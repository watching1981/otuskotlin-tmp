# API

#### 1. Сущности
**Объявление (Advertisement)**

| Поле          | Бизнес-описание                                        | Пример значения                                                        |
|---------------|--------------------------------------------------------|------------------------------------------------------------------------|
| title         | Заголовок объявления                                   | "а/м Honda Civic"                                                      |
| description   | Детальное описание потребности/предложения             | "Машина в идеальном состоянии, один хозяин, полная сервисная история." |
| user (Author) | Идентификатор автора (бизнес-аккаунта)                 | "IvanovDA1980"                                                         |
| car           | Описание автомобиля                                    | "Год выпуска 2012, тип кузова: седан..."                               |
| dealSide      | Тип сделки: "demand" (спрос), "proposal" (предложение) | "proposal"                                                             |
| price         | Цена                                                   | 450000                                                                 |
| location      | Местонахождение товара                                 | "Тюмень"                                                               |
| status        | статус объявления (Active, Closed, Archived, Draft)    | "Active"                                                               |
| createdAt     | дата размещения                                        | "18.05.2025 18:30:05"                                                  |

#### 2. Бизнес-функции (методы)
**CRUDS для объявлений** 
1. **`ads.create`** - Создание нового объявления
   - *Бизнес-правило*: Только верифицированные пользователи могут создавать объявления
   - *Ограничения*: Минимум 3 символа в заголовке

2. **`ads.update`** - Обновление существующего объявления
   - *Бизнес-правило*: Только владелец может изменять объявление

3. **`ads.delete`** - Удаление объявления
   - *Бизнес-правило*: Возможность удаления только при отсутствии активной сделки

5. **`ads.search`** - Поиск объявлений
   - *Бизнес-логика*: Возвращает Active-объявления с пагинацией
   - *Фильтры*: По типу сделки, локации, цене

**Специальные методы**
6. **`ads.offers`** - Поиск совместимых предложений
   - *Бизнес-логика*: Для объявления спроса ("demand") возвращает подходящие предложения ("proposal")
   - *Критерии совместимости*:
      - Совпадение по фильтру цены
      - Соответствие техническим характеристикам (±5%)
      - Географическая близость 
   - *Возвращает*: Список объявлений с оценкой релевантности (0-100%)

#### 3. Бизнес-правила
1. **Видимость объявлений**:
   - `Active`: Видно всем пользователям
   - `Closed`,` Archived`, `Draft` - видны только владельцам

2. **Ограничения для новых пользователей**:
   - Максимум 5 активных объявлений
   - Лимит 10 поисковых запросов в минуту

#### 4. Бизнес-метрики успеха
1. **Скорость подбора предложений**: 95% запросов должны возвращать результаты < 2 сек
2. **Точность соответствия**: Не менее 90% релевантных предложений для спроса
3. **Конверсия**: 30% просмотров предложений → контакты между пользователями
4. **Ограничения**:
   - Новые пользователи: 10 запросов/минуту
   - Верифицированные пользователи: 100 запросов/минуту
